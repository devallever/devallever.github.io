<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Java 内部类 | Allever Blog | Android Developer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Java,内部类">
    <meta name="description" content="内部类是指在一个外部类的内部再定义一个类。内部类作为外部类的一个成员，并且依附于外部类而存在的。内部类可为静态，可用protected和private修饰（而外部类只能使用public和缺省的包访问权限）。内部类主要有以下几类：成员内部类、局部内部类、静态内部类、匿名内部类 为什么需要内部类？典型的情况是，内部类继承自某个类或实现某个接口，内部类的代码操作创建其的外围类的对象。所以你可以认为内部类">
<meta name="keywords" content="Java,内部类">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 内部类">
<meta property="og:url" content="https://devallever.github.io/2017/05/05/innerclass/index.html">
<meta property="og:site_name" content="Allever Blog">
<meta property="og:description" content="内部类是指在一个外部类的内部再定义一个类。内部类作为外部类的一个成员，并且依附于外部类而存在的。内部类可为静态，可用protected和private修饰（而外部类只能使用public和缺省的包访问权限）。内部类主要有以下几类：成员内部类、局部内部类、静态内部类、匿名内部类 为什么需要内部类？典型的情况是，内部类继承自某个类或实现某个接口，内部类的代码操作创建其的外围类的对象。所以你可以认为内部类">
<meta property="og:updated_time" content="2017-05-05T02:34:48.258Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java 内部类">
<meta name="twitter:description" content="内部类是指在一个外部类的内部再定义一个类。内部类作为外部类的一个成员，并且依附于外部类而存在的。内部类可为静态，可用protected和private修饰（而外部类只能使用public和缺省的包访问权限）。内部类主要有以下几类：成员内部类、局部内部类、静态内部类、匿名内部类 为什么需要内部类？典型的情况是，内部类继承自某个类或实现某个接口，内部类的代码操作创建其的外围类的对象。所以你可以认为内部类">
    
        <link rel="alternate" type="application/atom+xml" title="Allever Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@1.6.1/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Allever</h5>
          <a href="mailto:devallever@163.com" title="devallever@163.com" class="mail">devallever@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/devallever" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://blog.csdn.net/devallever"  >
                <i class="icon icon-lg icon-link"></i>
                CSDN
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Java 内部类</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Java 内部类</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-05-05T02:26:16.000Z" itemprop="datePublished" class="page-time">
  2017-05-05
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#静态内部类型-static-nested-type"><span class="post-toc-number">1.</span> <span class="post-toc-text">静态内部类型(static nested type)</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#成员内部类-inner-member-class"><span class="post-toc-number">2.</span> <span class="post-toc-text">成员内部类(inner member class)</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#局部内部类-local-inner-class"><span class="post-toc-number">3.</span> <span class="post-toc-text">局部内部类(local inner class)</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#匿名内部类-inner-anonymous-class"><span class="post-toc-number">4.</span> <span class="post-toc-text">匿名内部类 (inner anonymous class)</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#内部类的工作原理"><span class="post-toc-number">5.</span> <span class="post-toc-text">内部类的工作原理</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#静态内部类和非静态内部类的区别"><span class="post-toc-number">6.</span> <span class="post-toc-text">静态内部类和非静态内部类的区别</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-innerclass"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Java 内部类</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-05-05 10:26:16" datetime="2017-05-05T02:26:16.000Z"  itemprop="datePublished">2017-05-05</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Java/">Java</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>内部类是指在一个外部类的内部再定义一个类。内部类作为外部类的一个成员，并且依附于外部类而存在的。内部类可为静态，可用protected和private修饰（而外部类只能使用public和缺省的包访问权限）。内部类主要有以下几类：成员内部类、局部内部类、静态内部类、匿名内部类</p>
<p>为什么需要内部类？<br>典型的情况是，内部类继承自某个类或实现某个接口，内部类的代码操作创建其的外围类的对象。所以你可以认为内部类提供了某种进入其外围类的窗口。使用内部类最吸引人的原因是：<br>每 个内部类都能独立地继承自一个（接口的）实现，所以无论外围类是否已经继承了某个（接口的）实现，对于内部类都没有影响。如果没有内部类提供的可以继承多 个具体的或抽象的类的能力，一些设计与编程问题就很难解决。从这个角度看，内部类使得多重继承的解决方案变得完整。接口解决了部分问题，而内部类有效地实 现了“多重继承”。</p>
<h1 id="静态内部类型-static-nested-type"><a href="#静态内部类型-static-nested-type" class="headerlink" title="静态内部类型(static nested type)"></a>静态内部类型(static nested type)</h1><p>静态内部类型可以是class,interface,或者enum。而其他类型的内部类型只能是class。</p>
<p>静态内部类其实还是一个顶层类（源代码文件级别的类），他不依赖外部类,只不过它被封装在另一个class或者interface中，而不是直接定义在文件级别中。因此，它和一般的类静态成员很类似:</p>
<p>1、它不包含外部类当前对象引用this,因此不能直接访问外部类的实际成员,但可以使用外部类的static成员。</p>
<p>2、静态内部类作为一个静态成员,因此可以用访问权限修饰符:public . private …….等。用的最多一般是private</p>
<pre><code>引用静态内部类：  Wapper.Inner
</code></pre><p>3、不能在非静态内部类中再定义静态内部类。静态内部类可以无限深度的嵌套下去。</p>
<p>提升</p>
<p>内部类最终会被javac编译为独立的类，JVM看见的都是top-level类。</p>
<p>编译后的class文件形如：WrapperClass $ InnerStaticClass.class</p>
<p>下面是使用静态内部类简单实现链式栈数据结构的例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">class LinkedSatck&lt;E&gt; &#123;</div><div class="line">    private static class Node&lt;T&gt; &#123;</div><div class="line"></div><div class="line">        public Node(Node&lt;T&gt; next, T data) &#123;</div><div class="line">            this.next = next;</div><div class="line">            this.data = data;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        @SuppressWarnings(&quot;unused&quot;)</div><div class="line">        public Node() &#123;</div><div class="line">            this(null, null);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        private Node&lt;T&gt; next;</div><div class="line">        private T data;</div><div class="line"></div><div class="line">        public T getData() &#123;</div><div class="line">            return data;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        public Node&lt;T&gt; getNext() &#123;</div><div class="line">            return next;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        public boolean isEndNode() &#123;</div><div class="line">            return (next == null);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;   </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    public LinkedSatck() &#123;</div><div class="line">        topNode = new Node&lt;E&gt;(null, null);</div><div class="line"></div><div class="line">        // size =0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private int size = 0;</div><div class="line">    private Node&lt;E&gt; topNode = null;</div><div class="line"></div><div class="line">    public void push(E e) &#123;</div><div class="line"></div><div class="line">        Node&lt;E&gt; newTopNode = new Node&lt;E&gt;(topNode, e);</div><div class="line">        ++size;</div><div class="line">        topNode = newTopNode;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public E pop() &#123;</div><div class="line">        if (topNode.isEndNode())</div><div class="line">            return null;</div><div class="line">        else &#123;</div><div class="line">            E re = topNode.getData();</div><div class="line"></div><div class="line">            topNode = topNode.getNext();</div><div class="line"></div><div class="line">            --size;</div><div class="line">            return re;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public int size() &#123;</div><div class="line">        return size;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public boolean isEmpty() &#123;</div><div class="line">        return size == 0;</div><div class="line">        // return topNode.isEnd();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="成员内部类-inner-member-class"><a href="#成员内部类-inner-member-class" class="headerlink" title="成员内部类(inner member class)"></a>成员内部类(inner member class)</h1><p>成员内部类最重要的特点就是它可以直接使用外部类的实例成员和static成员，即便是使用private修饰也是如此。 </p>
<p>因为成员内部类总包含了一个外部类的当前对象引用 ，奇怪的名字 this$0，这个引用在成员内部类实例化时被外部类的当前对象引用this初始化。</p>
<p>大致实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">class Outter</div><div class="line">&#123;</div><div class="line">    private class Inner</div><div class="line">    &#123;</div><div class="line">        private final Outter this$0;  //javac自动添加</div><div class="line">        Inner(Outter o)         //javac自动添加</div><div class="line">        &#123;</div><div class="line">            this.this$0 = o;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    //使用成员内部类对象时发生：new Inner(Outter.this)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p> 这也是为什么在创建一个成员内部类对象时,要先创建一个外部类对象的原因了。</p>
<p>和普通实例成员一样，成员内部里是属于外部类的对象的，那么，在成员内部类就理所当然可以直接使用外部类的其他实例成员以及static成员。</p>
<p>因为是实例成员，所以可以使用访问修饰符:public 、protected、private、和默认的包访问权限。</p>
<p>因为是实例成员，因此，在类的外部使用内部类时，必须先创建1个外部类对象，在实际开发中很少使用这个。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">class Outter</div><div class="line">&#123;</div><div class="line">    public class Inner</div><div class="line">    &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public class Test </div><div class="line">&#123;</div><div class="line">public static void main(String[] args) &#123;</div><div class="line"></div><div class="line">        Outter out = new  Outter();</div><div class="line">        Outter.Inner in = out.new Inner();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一个例子，自定义一个Str类，来支持迭代。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">class Str implements Iterable&lt;Character&gt;</div><div class="line">&#123;</div><div class="line">    </div><div class="line">    private String innerStr;</div><div class="line"></div><div class="line">    public Str(String s)</div><div class="line">    &#123;</div><div class="line">        this.innerStr = (s==null?&quot;&quot;:s);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    private class StrIterator implements Iterator&lt;Character&gt;    //迭代器类 作为成员内部类</div><div class="line">    &#123;</div><div class="line">        </div><div class="line">        private int curIndex = 0;</div><div class="line"></div><div class="line">        @Override</div><div class="line">        public boolean hasNext() &#123;</div><div class="line">            </div><div class="line">            return curIndex &lt; innerStr.length();    //直接访问外部类的成员 innerStr</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        @Override</div><div class="line">        public Character next() &#123;</div><div class="line">            </div><div class="line">            return innerStr.charAt(curIndex++);   //直接访问外部类的成员 innerStr</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        @Override</div><div class="line">        public void remove() &#123;</div><div class="line">            throw new UnsupportedOperationException();</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public Iterator&lt;Character&gt; iterator() &#123;</div><div class="line">        </div><div class="line">        return new StrIterator();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>成员内部类中不能有static成员，即不能有static方法 和 static字段（除非static字段修饰为static final，那样的话它只不过是一个符号常量罢了）。因为java中类的静态成员必须定义在一个top-level顶层类中，而成员内部类（包括后面的方法内部类，匿名内部类）不是top-level顶层类。</p>
<p>static成员需要定义在top-level类中，而成员内部类不是top-level类。</p>
<p>提升</p>
<p>JVM是不理解nested类型的，也就是在它看来，所有的类型都是top-level的， </p>
<p>在每一个成员内部类中，javac都会自动添加一个字段：this$0，用来引用外部类当前对象。同时， 内部类的构造函数会自动为这个字段添加一个参数，当构造内部类对象时，</p>
<p>外部类当前对象就会传递给this$0，让这个字段引用外部类当前实例对象。</p>
<p>从这点我们也会发现，为什么要实例化一个成员内部类前，需要先实例化一个外部类对象。因为成员内部包含了一个外部类对象。</p>
<p>编译后的class文件形如：WrapperClass $ InnerClass.class</p>
<h1 id="局部内部类-local-inner-class"><a href="#局部内部类-local-inner-class" class="headerlink" title="局部内部类(local inner class)"></a>局部内部类(local inner class)</h1><p>定义在一个方法（包括了类的构造块和static构造块）内部的类，叫局部内部类。它不能有任何访问权限修饰符，因为它只能被包装它的方法使用，离开方法后就不可用了。</p>
<p>局部内部类可以和成员内部类一样，访问外部类的实例成员。同时，它还能直接使用包含它的方法的局部final常量,final参数。javac会复制使用了的外部方法的局部final量保存在局部内部类中作为私有的备份。</p>
<p>因此,当这个外部方法执行完毕后，虽然方法中的局部变量的 lifetime结束了，但是如果局部类的实例作为返回值,它会带着外部方法的局部final量离开这个局部作用域,也就是说,局部变量的生命延长到了和局部内部类的对象的生命周期一致。并不会随着方法执行完立刻被清理掉。我们可以以此来形成闭包。</p>
<p>同样,局部内部类不是top-level类，不能有static成员，除非是static final 字段。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">public class Main</div><div class="line">&#123;</div><div class="line">    public static void main(String[] args) </div><div class="line">    &#123;</div><div class="line">        </div><div class="line">        MsgGenerator g5 = fac(5);</div><div class="line">        System.out.println(g5.generatorMsg());</div><div class="line">        </div><div class="line">        MsgGenerator g2 = fac(2);</div><div class="line">        System.out.println(g2.generatorMsg());</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    public static MsgGenerator fac(final int times)</div><div class="line">    &#123;</div><div class="line">        class Generator implements MsgGenerator</div><div class="line">        &#123;</div><div class="line">            @Override</div><div class="line">            public StringBuffer generatorMsg()</div><div class="line">            &#123;</div><div class="line">                </div><div class="line">                StringBuffer s=  new StringBuffer() ;</div><div class="line">                </div><div class="line">                for(int i=0;i&lt;times;++i)</div><div class="line">                &#123;</div><div class="line">                    s.append(&quot;hello  &quot;);</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                return s;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            </div><div class="line">        &#125;  //end of class</div><div class="line">        </div><div class="line">        </div><div class="line">        return new Generator();    //向外发出闭包</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">interface MsgGenerator</div><div class="line">&#123;</div><div class="line">    StringBuffer generatorMsg();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>提升：</p>
<p>局部内部类之所以能访问外部类的实例成员，其原因和成员内部类是一样的：内部类中有保存了外部类对象的引用。除此之外，局部内部类还能访问包装方法的final字段，javac会将内部类使用了的final 局部常量拷贝到局部内部类中保存，并在局部内部类对象实例化时，初始化这些final常量。因此，局部内部类使用的final常量是自己的拷贝分。</p>
<p>局部内部类的实现原理（模拟）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">class Wapper</div><div class="line">&#123;</div><div class="line">    </div><div class="line">    public void wapperFunction()       //在方法中定义一个局部类</div><div class="line">    &#123;</div><div class="line">        final int x = 10;</div><div class="line">        </div><div class="line">        class Local       //局部类</div><div class="line">        &#123;</div><div class="line">            </div><div class="line">            private final int local_copy_x;   //假如在局部类中使用了局部常量x，则javac自动生成</div><div class="line">            </div><div class="line">            private final Wapper this$0;            //javac自动生成的字段，用于保存外部类当前对象引用</div><div class="line">            </div><div class="line">            </div><div class="line">            //首先，局部内部类必定会包含外部类对象，着就是javac插入的第一个构造参数，这是必定的。</div><div class="line">            //其次，如果我们在局部内部类中使用了包装方法foo中的局部final常量，如x，则会在局部类中</div><div class="line">            //自动添加隐藏字段local_copy_x，并在构造器中初始化它。</div><div class="line">            Local(Wapper w,final int x)</div><div class="line">            &#123;</div><div class="line">                this$0 = w;</div><div class="line">                local_copy_x = x;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line"></div><div class="line">        &#125;//end of Local</div><div class="line">        </div><div class="line">       </div><div class="line">　　　   </div><div class="line">　　　　 new Local();     //当实例化局部内部类对象时，等价于 new Local(Wapper.this,x)</div><div class="line">    </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所以，之所以能在局部内部类中访问外部类的实例，是因为javac自动添加并用外部类当前对象this初始化了局部内部类的字段this$0，这样this$0就引用了外部类当前对象。</p>
<p>局部内部类能使用包装 方法的final字段，也是因为javac自动在局部内部类中添加并初始化的结果。</p>
<h1 id="匿名内部类-inner-anonymous-class"><a href="#匿名内部类-inner-anonymous-class" class="headerlink" title="匿名内部类 (inner anonymous class)"></a>匿名内部类 (inner anonymous class)</h1><p>匿名内部类是特殊的局部内部类,它没有类名。它的访问特性和局部内类一样。如果只会使用类的一个对象,则可以使用匿名内部类,没有名称避免了再引入一个类名称， 匿名内部类是没有名称的局部内部类，访问特性与局部内部类一样。</p>
<p>因为没有类名,因此只能使用父类名或者接口名来创建对象。</p>
<p>new + superClass  或者 new+interface  。创建对象 是 使用new表达式。</p>
<p>new 表达式:匿名类对象的创建方式是使用new表达式,创建对象的同时也是类结构的编写。表达式的值是一个匿名类对象的引用。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new  SuperClass(param1，param2)&#123;   类体    &#125;</div></pre></td></tr></table></figure>
<p> 一般来说,匿名类没有构造参数,如果有,则传递给他的父类的构造函数。</p>
<p>匿名内部类由于没有类名，所以你不能定义新的构造函数，只能有默认的构造函数（javac添加的）。补救的做法是使用构造块。</p>
<p>下面是使用swing 中的Timer定时触发回调函数的例子，使用匿名类创建 ActionListener对象。程序每经过1000ms，就会调用 ActionListener对象的actionPerformed方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">public static void main(String[] args) &#123;</div><div class="line"></div><div class="line"></div><div class="line">        //javax.swing.Timer;</div><div class="line">        Timer t = new Timer(1000, </div><div class="line">                            new ActionListener() &#123;</div><div class="line">                        @Override</div><div class="line">                        public void actionPerformed(ActionEvent e) </div><div class="line">                        &#123;</div><div class="line">                            Toolkit.getDefaultToolkit().beep();  //系统响铃声    </div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                    </div><div class="line">            );</div><div class="line">        </div><div class="line">        t.start();</div><div class="line">        </div><div class="line">        while(true)</div><div class="line">        &#123;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        </div><div class="line"></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h1 id="内部类的工作原理"><a href="#内部类的工作原理" class="headerlink" title="内部类的工作原理"></a>内部类的工作原理</h1><p>内部类只是Java的语法糖，jvm是不理解内部类的，它所看见的都是top-level顶层类。将内部类分离为单独的顶层类，是javac 的任务。内部类被javac合成为单独的类，并形成独立的class文件，这个文件有独特的名称，形式如下：</p>
<p>static内部类:  OutterClass$InnerClass.class</p>
<p>成员内部类：OutterClass$InnerClass.class</p>
<p>局部内部类:  OutterClass$XInnerClass.class           # X为一个正整数</p>
<p>局部内部类:  OutterClass$X.class                          # X为一个正整数</p>
<p>对于static内部类，无需多解释，因为 static内部类和外部类是无依赖关系的，static内部类不包含外部类引用，javac只是将他们简单的分离。</p>
<p>成员内部类为什么能访问外部类的成员？因为内部类会被javac自动插入一个字段this&amp;0去保存外部类当前对象this的引用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public class OutterClass</div><div class="line">&#123;</div><div class="line">    </div><div class="line">    private int outFiled = 100;</div><div class="line">    </div><div class="line">    public class InnerClass</div><div class="line">    &#123;</div><div class="line">        </div><div class="line">        public void f()</div><div class="line">        &#123;</div><div class="line">            int i = outFiled;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>javap反编译后的结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">Compiled from &quot;OutterClass.java&quot;</div><div class="line">public class OutterClass$InnerClass &#123;</div><div class="line">  final OutterClass this$0;      //由javac自动合成：内部类包含1个外部类的当前对象的引用this&amp;0，使用this&amp;0避免和this冲突    </div><div class="line">    </div><div class="line">  //javac自动合成：合成的构造函数，有1个外部类参数，用于初始化 this&amp;0，this&amp;0被赋值为OutterClass.this</div><div class="line">  public OutterClass$InnerClass(OutterClass);</div><div class="line">    Code:</div><div class="line">       0: aload_0       </div><div class="line">       1: aload_1       </div><div class="line">       2: putfield      #1                  // Field this$0:LOutterClass;</div><div class="line">       5: aload_0       </div><div class="line">       6: invokespecial #2                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</div><div class="line">       9: return        </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">  public void f();</div><div class="line">    Code:</div><div class="line">       0: aload_0       </div><div class="line">       1: getfield      #1                  // Field this$0:LOutterClass;</div><div class="line">       4: invokestatic  #3                  // Method OutterClass.access$000:(LOutterClass;)I</div><div class="line">       7: istore_1      </div><div class="line">       8: return        </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>局部内部类和匿名内部类除了可以访问外部类的成员（原因和成员内部类是相同的），还可以访问外部方法的局部final量和final参数。原因如下：</p>
<blockquote>
<p>A local class can use local variables because javac automatically gives the class a<br>private instance field to hold a copy of each local variable the class uses.<br>The compiler also adds hidden parameters to each local class constructor to initial‐<br>ize these automatically created private fields. A local class does not actually access<br>local variables but merely its own private copies of them. This could cause inconsis‐<br>tencies if the local variables could alter outside of the local class.</p>
</blockquote>
<pre><code>-- 《Java int a Nutshell》
</code></pre><p>因为javac会自动在（局部和匿名）内部类中插入私有 的实例字段来保存 使用了的外部方法的final量的拷贝。javac还会在（局部和匿名）内部类中的构造函数的添加参数来初始化插入的私有 的字段。所以，（局部和匿名）内部类使用的实质是自己获得的拷贝量，而不是直接使用外部方法的final量。如果外部方法的量不修饰为final的话，那么意味着它的值可以改变，这就可能会导致（局部和匿名）内部类中获得的拷贝和外部方法不一致。所以java强制要求只能使用final量。</p>
<h1 id="静态内部类和非静态内部类的区别"><a href="#静态内部类和非静态内部类的区别" class="headerlink" title="静态内部类和非静态内部类的区别"></a>静态内部类和非静态内部类的区别</h1><p>如果你不需要内部类对象与其外围类对象之间有联系，那你可以将内部类声明为static。这通常称为嵌套类（nested class）。Static Nested Class是被声明为静态（static）的内部类，它可以不依赖于外部类实例被实例化。而通常的内部类需要在外部类实例化后才能实例化。想要理解static应用于内部类时的含义，你就必须记住，普通的内部类对象隐含地保存了一个引用，指向创建它的外围类对象。然而，当内部类是static的时，就不是这样了。嵌套类意味着： </p>
<ol>
<li><p>嵌套类的对象，并不需要其外围类的对象。 </p>
</li>
<li><p>不能从嵌套类的对象中访问非静态的外围类对象。</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">public class StaticTest&#123;</div><div class="line">   private static String name = &quot;woobo&quot;;</div><div class="line">   private String num = &quot;X001&quot;;</div><div class="line">   static class Person&#123; // 静态内部类可以用public,protected,private修饰 </div><div class="line"></div><div class="line">       // 静态内部类中可以定义静态或者非静态的成员  </div><div class="line">     private String address = &quot;China&quot;;</div><div class="line"></div><div class="line">Private Static String x=“as”;</div><div class="line">     public String mail = &quot;kongbowoo@yahoo.com.cn&quot;;//内部类公有成员</div><div class="line">     public void display()&#123;</div><div class="line">       //System.out.println(num);//不能直接访问外部类的非静态成员</div><div class="line"></div><div class="line">// 静态内部类不能访问外部类的非静态成员(包括非静态变量和非静态方法)</div><div class="line">       System.out.println(name);//只能直接访问外部类的静态成员</div><div class="line"></div><div class="line">//静态内部类只能访问外部类的静态成员(包括静态变量和静态方法)</div><div class="line">       System.out.println(&quot;Inner &quot; + address);//访问本内部类成员。</div><div class="line">     &#125;</div><div class="line">   &#125;</div><div class="line">   public void printInfo()&#123;</div><div class="line">     Person person = new Person();</div><div class="line"></div><div class="line">// 外部类访问内部类的非静态成员:实例化内部类即可 </div><div class="line"></div><div class="line">person.display();</div><div class="line"></div><div class="line">     //System.out.println(mail);//不可访问</div><div class="line">     //System.out.println(address);//不可访问</div><div class="line">     System.out.println(person.address);//可以访问内部类的私有成员</div><div class="line"></div><div class="line">System.out.println(Person.x);// 外部类访问内部类的静态成员：内部类.静态成员</div><div class="line">     System.out.println(person.mail);//可以访问内部类的公有成员</div><div class="line">   &#125;</div><div class="line">   public static void main(String[] args)&#123;</div><div class="line">     StaticTest staticTest = new StaticTest();</div><div class="line">     staticTest.printInfo();</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在静态嵌套类内部, 不能访问外部类的非静态成员, 这是由Java语法中”静态方法不能直接访问非静态成员”所限定.注意, 外部类访问内部类的的成员有些特别, 不能直接访问, 但可以通过内部类实例来访问, 这是因为静态嵌套内的所有成员和方法默认为静态的了.同时注意, 内部静态类Person只在类StaticTest 范围内可见, 若在其它类中引用或初始化, 均是错误的.<br>一 . 静态内部类可以有静态成员，而非静态内部类则不能有静态成员。<br>二 . 静态内部类的非静态成员可以访问外部类的静态变量，而不可访问外部类的非静态变量；</p>
<p>三 . 非静态内部类的非静态成员可以访问外部类的非静态变量。</p>
<p>生成一个静态内部类不需要外部类成员：这是静态内部类和成员内部类的区别。静态内部类的对象可以直接生成：Outer.Inner in = new Outer.Inner();而不需要通过生成外部类对象来生成。这样实际上使静态内部类成为了一个顶级类(正常情况下，你不能在接口内部放置任何代码，但嵌套类可以作为接口的一部分，因为它是static 的。只是将嵌套类置于接口的命名空间内，这并不违反接口的规则）</p>
<blockquote>
<p>原文地址：<a href="http://www.cnblogs.com/WuXuanKun/p/6220964.html" target="_blank" rel="external">http://www.cnblogs.com/WuXuanKun/p/6220964.html</a>   </p>
</blockquote>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-05-05T02:34:48.258Z" itemprop="dateUpdated">2017-05-05 10:34:48</time>
</span><br>


        这里写留言或版权声明：<a href="/2017/05/05/innerclass/" target="_blank" rel="external">https://devallever.github.io/2017/05/05/innerclass/</a>
    </div>
    <footer>
        <a href="https://devallever.github.io">
            <img src="/img/avatar.jpg" alt="Allever">
            Allever
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/内部类/">内部类</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://devallever.github.io/2017/05/05/innerclass/&title=《Java 内部类》 — Allever Blog&pic=https://devallever.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://devallever.github.io/2017/05/05/innerclass/&title=《Java 内部类》 — Allever Blog&source=Android Developer" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://devallever.github.io/2017/05/05/innerclass/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Java 内部类》 — Allever Blog&url=https://devallever.github.io/2017/05/05/innerclass/&via=https://devallever.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://devallever.github.io/2017/05/05/innerclass/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/04/26/myCoolWeather/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Android练手项目 极简天气</h4>
      </a>
    </div>
  

  
</nav>



    







<section class="comments" id="comments">
    <!-- UY BEGIN -->
    <div id="uyan_frame"></div>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2131486"></script>
    <!-- UY END -->
</section>




</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        Thanks
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        

        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>Allever &copy; 2015 - 2017</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://devallever.github.io/2017/05/05/innerclass/&title=《Java 内部类》 — Allever Blog&pic=https://devallever.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://devallever.github.io/2017/05/05/innerclass/&title=《Java 内部类》 — Allever Blog&source=Android Developer" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://devallever.github.io/2017/05/05/innerclass/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Java 内部类》 — Allever Blog&url=https://devallever.github.io/2017/05/05/innerclass/&via=https://devallever.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://devallever.github.io/2017/05/05/innerclass/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://devallever.github.io/2017/05/05/innerclass/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@1.6.1/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@1.6.1/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
